pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
function _init()
 -- player dynamic variables --
 player = {}
 player.s = 1 --sprite
 player.s_w = 1 --sprite size
 player.s_h = 2
 player.x = 64 --position
 player.y = 64
 player.is_crouching = false
 -- player jumping --
 player.is_jumping = false
 player.jump_tstart = 0
 player.jump_tprev = 0
 player.jump_h = 0
  --[[
  which jump are you on?
  0 = not jumping
  1 = first jump
  2 = double jump
  3 = triple jump (can no longer jump)
  ]]
 player.njump = 0

  
 -- player static variables --
 player.stand_s = 1 --sprite
 player.stand_w = 1 --sprite size
 player.stand_h = 2
 player.crouch_s = 18 --sprite
 player.crouch_w = 1 --sprite size
 player.crouch_h = 1
 player.can_triplej = false

end
-->8
function can_jump()
 if player.njump == 3 then
  return false
 end
 if player.njump == 2 and 
    player.can_triplej then
  return false
 end
 return true 
end

function start_jump()
 player.jump_tstart = time()
 player.is_jumping = true
 if player.njump==0 then
  player.jump_h = 16
 else
  player.jump_h = 8
 end
end

function jump()
 
end
-->8
function _update60()
 if(btn(0)) player.x -= 1
 if(btn(1)) player.x += 1
 if btn(2) then
  if(can_jump()) start_jump()
 end
end

function _draw()
 cls()
 spr(player.s,player.x,player.y,player.s_w,player.s_h)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000006666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700066666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000666666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000666666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700666666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000006600000066660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000060666000666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000600000666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000600000666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000600000066660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000006060000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000060006000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000600000600066666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
